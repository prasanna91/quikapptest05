workflows:
  android-free:
    name: Android-Free
    environment:
      flutter: 3.22.1
      vars:
        PATH: "$PATH:$HOME/flutter/bin"
        VERSION_NAME: "${VERSION_NAME}"
        VERSION_CODE: "${VERSION_CODE}"
        APP_NAME: "${APP_NAME}"
        ORG_NAME: "${ORG_NAME}"
        WEB_URL: "${WEB_URL}"
        PKG_NAME: "${PKG_NAME}"
        BUNDLE_ID: "${BUNDLE_ID}"
        EMAIL_ID: "${EMAIL_ID}"
        PUSH_NOTIFY: "${PUSH_NOTIFY}"
        IS_CHATBOT: "${IS_CHATBOT}"
        IS_DEEPLINK: "${IS_DEEPLINK}"
        IS_SPLASH: "${IS_SPLASH}"
        IS_PULLDOWN: "${IS_PULLDOWN}"
        IS_BOTTOMMENU: "${IS_BOTTOMMENU}"
        IS_LOAD_IND: "${IS_LOAD_IND}"
        IS_CAMERA: "${IS_CAMERA}"
        IS_LOCATION: "${IS_LOCATION}"
        IS_MIC: "${IS_MIC}"
        IS_NOTIFICATION: "${IS_NOTIFICATION}"
        IS_CONTACT: "${IS_CONTACT}"
        IS_BIOMETRIC: "${IS_BIOMETRIC}"
        IS_CALENDAR: "${IS_CALENDAR}"
        IS_STORAGE: "${IS_STORAGE}"
        LOGO_URL: "${LOGO_URL}"
        SPLASH: "${SPLASH}"
        SPLASH_BG: "${SPLASH_BG}"
        SPLASH_BG_COLOR: "${SPLASH_BG_COLOR}"
        SPLASH_TAGLINE: "${SPLASH_TAGLINE}"
        SPLASH_TAGLINE_COLOR: "${SPLASH_TAGLINE_COLOR}"
        SPLASH_ANIMATION: "${SPLASH_ANIMATION}"
        SPLASH_DURATION: "${SPLASH_DURATION}"
        BOTTOMMENU_ITEMS: "${BOTTOMMENU_ITEMS}"
        BOTTOMMENU_BG_COLOR: "${BOTTOMMENU_BG_COLOR}"
        BOTTOMMENU_ICON_COLOR: "${BOTTOMMENU_ICON_COLOR}"
        BOTTOMMENU_TEXT_COLOR: "${BOTTOMMENU_TEXT_COLOR}"
        BOTTOMMENU_FONT: "${BOTTOMMENU_FONT}"
        BOTTOMMENU_FONT_SIZE: "${BOTTOMMENU_FONT_SIZE}"
        BOTTOMMENU_FONT_BOLD: "${BOTTOMMENU_FONT_BOLD}"
        BOTTOMMENU_FONT_ITALIC: "${BOTTOMMENU_FONT_ITALIC}"
        BOTTOMMENU_ACTIVE_TAB_COLOR: "${BOTTOMMENU_ACTIVE_TAB_COLOR}"
        BOTTOMMENU_ICON_POSITION: "${BOTTOMMENU_ICON_POSITION}"
        BOTTOMMENU_VISIBLE_ON: "${BOTTOMMENU_VISIBLE_ON}"
        firebase_config_android: "${firebase_config_android}"
        firebase_config_ios: "${firebase_config_ios}"
        APPLE_TEAM_ID: "${APPLE_TEAM_ID}"
        APNS_KEY_ID: "${APNS_KEY_ID}"
        APNS_AUTH_KEY_URL: "${APNS_AUTH_KEY_URL}"
        CERT_PASSWORD: "${CERT_PASSWORD}"
        PROFILE_URL: "${PROFILE_URL}"
        CERT_CER_URL: "${CERT_CER_URL}"
        CERT_KEY_URL: "${CERT_KEY_URL}"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "${APP_STORE_CONNECT_KEY_IDENTIFIER}"
        KEY_STORE: "${KEY_STORE}"
        CM_KEYSTORE_PASSWORD: "${CM_KEYSTORE_PASSWORD}"
        CM_KEY_ALIAS: "${CM_KEY_ALIAS}"
        CM_KEY_PASSWORD: "${CM_KEY_PASSWORD}"
        NOTIFICATION_EMAIL: "${EMAIL_ID}"
        PROJECT_NAME: "${APP_NAME}"
        BUILD_URL: $CM_BUILD_URL
    scripts:
      - name: Install FVM
        script: |
          dart pub global activate fvm
          export PATH="$PATH":"$HOME/.pub-cache/bin"
      - bash lib/scripts/android/main.sh
    artifacts:
      - output/android/*.apk
    # notification: see email script

  android-paid:
    name: Android-Paid
    environment:
      flutter: 3.22.1
      vars:
        PATH: "$PATH:$HOME/flutter/bin"
        VERSION_NAME: "${VERSION_NAME}"
        VERSION_CODE: "${VERSION_CODE}"
        APP_NAME: "${APP_NAME}"
        ORG_NAME: "${ORG_NAME}"
        WEB_URL: "${WEB_URL}"
        PKG_NAME: "${PKG_NAME}"
        BUNDLE_ID: "${BUNDLE_ID}"
        EMAIL_ID: "${EMAIL_ID}"
        PUSH_NOTIFY: "${PUSH_NOTIFY}"
        IS_CHATBOT: "${IS_CHATBOT}"
        IS_DEEPLINK: "${IS_DEEPLINK}"
        IS_SPLASH: "${IS_SPLASH}"
        IS_PULLDOWN: "${IS_PULLDOWN}"
        IS_BOTTOMMENU: "${IS_BOTTOMMENU}"
        IS_LOAD_IND: "${IS_LOAD_IND}"
        IS_CAMERA: "${IS_CAMERA}"
        IS_LOCATION: "${IS_LOCATION}"
        IS_MIC: "${IS_MIC}"
        IS_NOTIFICATION: "${IS_NOTIFICATION}"
        IS_CONTACT: "${IS_CONTACT}"
        IS_BIOMETRIC: "${IS_BIOMETRIC}"
        IS_CALENDAR: "${IS_CALENDAR}"
        IS_STORAGE: "${IS_STORAGE}"
        LOGO_URL: "${LOGO_URL}"
        SPLASH: "${SPLASH}"
        SPLASH_BG: "${SPLASH_BG}"
        SPLASH_BG_COLOR: "${SPLASH_BG_COLOR}"
        SPLASH_TAGLINE: "${SPLASH_TAGLINE}"
        SPLASH_TAGLINE_COLOR: "${SPLASH_TAGLINE_COLOR}"
        SPLASH_ANIMATION: "${SPLASH_ANIMATION}"
        SPLASH_DURATION: "${SPLASH_DURATION}"
        BOTTOMMENU_ITEMS: "${BOTTOMMENU_ITEMS}"
        BOTTOMMENU_BG_COLOR: "${BOTTOMMENU_BG_COLOR}"
        BOTTOMMENU_ICON_COLOR: "${BOTTOMMENU_ICON_COLOR}"
        BOTTOMMENU_TEXT_COLOR: "${BOTTOMMENU_TEXT_COLOR}"
        BOTTOMMENU_FONT: "${BOTTOMMENU_FONT}"
        BOTTOMMENU_FONT_SIZE: "${BOTTOMMENU_FONT_SIZE}"
        BOTTOMMENU_FONT_BOLD: "${BOTTOMMENU_FONT_BOLD}"
        BOTTOMMENU_FONT_ITALIC: "${BOTTOMMENU_FONT_ITALIC}"
        BOTTOMMENU_ACTIVE_TAB_COLOR: "${BOTTOMMENU_ACTIVE_TAB_COLOR}"
        BOTTOMMENU_ICON_POSITION: "${BOTTOMMENU_ICON_POSITION}"
        BOTTOMMENU_VISIBLE_ON: "${BOTTOMMENU_VISIBLE_ON}"
        firebase_config_android: "${firebase_config_android}"
        firebase_config_ios: "${firebase_config_ios}"
        APPLE_TEAM_ID: "${APPLE_TEAM_ID}"
        APNS_KEY_ID: "${APNS_KEY_ID}"
        APNS_AUTH_KEY_URL: "${APNS_AUTH_KEY_URL}"
        CERT_PASSWORD: "${CERT_PASSWORD}"
        PROFILE_URL: "${PROFILE_URL}"
        CERT_CER_URL: "${CERT_CER_URL}"
        CERT_KEY_URL: "${CERT_KEY_URL}"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "${APP_STORE_CONNECT_KEY_IDENTIFIER}"
        KEY_STORE: "${KEY_STORE}"
        CM_KEYSTORE_PASSWORD: "${CM_KEYSTORE_PASSWORD}"
        CM_KEY_ALIAS: "${CM_KEY_ALIAS}"
        CM_KEY_PASSWORD: "${CM_KEY_PASSWORD}"
        NOTIFICATION_EMAIL: "${EMAIL_ID}"
        PROJECT_NAME: "${APP_NAME}"
        BUILD_URL: $CM_BUILD_URL
    scripts:
      - name: Install FVM
        script: |
          dart pub global activate fvm
          export PATH="$PATH":"$HOME/.pub-cache/bin"
      - bash lib/scripts/android/main.sh
    artifacts:
      - output/android/*.apk

  android-publish:
    name: Android-Publish
    environment:
      flutter: 3.22.1
      vars:
        PATH: "$PATH:$HOME/flutter/bin"
        VERSION_NAME: "${VERSION_NAME}"
        VERSION_CODE: "${VERSION_CODE}"
        APP_NAME: "${APP_NAME}"
        ORG_NAME: "${ORG_NAME}"
        WEB_URL: "${WEB_URL}"
        PKG_NAME: "${PKG_NAME}"
        BUNDLE_ID: "${BUNDLE_ID}"
        EMAIL_ID: "${EMAIL_ID}"
        PUSH_NOTIFY: "${PUSH_NOTIFY}"
        IS_CHATBOT: "${IS_CHATBOT}"
        IS_DEEPLINK: "${IS_DEEPLINK}"
        IS_SPLASH: "${IS_SPLASH}"
        IS_PULLDOWN: "${IS_PULLDOWN}"
        IS_BOTTOMMENU: "${IS_BOTTOMMENU}"
        IS_LOAD_IND: "${IS_LOAD_IND}"
        IS_CAMERA: "${IS_CAMERA}"
        IS_LOCATION: "${IS_LOCATION}"
        IS_MIC: "${IS_MIC}"
        IS_NOTIFICATION: "${IS_NOTIFICATION}"
        IS_CONTACT: "${IS_CONTACT}"
        IS_BIOMETRIC: "${IS_BIOMETRIC}"
        IS_CALENDAR: "${IS_CALENDAR}"
        IS_STORAGE: "${IS_STORAGE}"
        LOGO_URL: "${LOGO_URL}"
        SPLASH: "${SPLASH}"
        SPLASH_BG: "${SPLASH_BG}"
        SPLASH_BG_COLOR: "${SPLASH_BG_COLOR}"
        SPLASH_TAGLINE: "${SPLASH_TAGLINE}"
        SPLASH_TAGLINE_COLOR: "${SPLASH_TAGLINE_COLOR}"
        SPLASH_ANIMATION: "${SPLASH_ANIMATION}"
        SPLASH_DURATION: "${SPLASH_DURATION}"
        BOTTOMMENU_ITEMS: "${BOTTOMMENU_ITEMS}"
        BOTTOMMENU_BG_COLOR: "${BOTTOMMENU_BG_COLOR}"
        BOTTOMMENU_ICON_COLOR: "${BOTTOMMENU_ICON_COLOR}"
        BOTTOMMENU_TEXT_COLOR: "${BOTTOMMENU_TEXT_COLOR}"
        BOTTOMMENU_FONT: "${BOTTOMMENU_FONT}"
        BOTTOMMENU_FONT_SIZE: "${BOTTOMMENU_FONT_SIZE}"
        BOTTOMMENU_FONT_BOLD: "${BOTTOMMENU_FONT_BOLD}"
        BOTTOMMENU_FONT_ITALIC: "${BOTTOMMENU_FONT_ITALIC}"
        BOTTOMMENU_ACTIVE_TAB_COLOR: "${BOTTOMMENU_ACTIVE_TAB_COLOR}"
        BOTTOMMENU_ICON_POSITION: "${BOTTOMMENU_ICON_POSITION}"
        BOTTOMMENU_VISIBLE_ON: "${BOTTOMMENU_VISIBLE_ON}"
        firebase_config_android: "${firebase_config_android}"
        firebase_config_ios: "${firebase_config_ios}"
        APPLE_TEAM_ID: "${APPLE_TEAM_ID}"
        APNS_KEY_ID: "${APNS_KEY_ID}"
        APNS_AUTH_KEY_URL: "${APNS_AUTH_KEY_URL}"
        CERT_PASSWORD: "${CERT_PASSWORD}"
        PROFILE_URL: "${PROFILE_URL}"
        CERT_CER_URL: "${CERT_CER_URL}"
        CERT_KEY_URL: "${CERT_KEY_URL}"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "${APP_STORE_CONNECT_KEY_IDENTIFIER}"
        KEY_STORE: "${KEY_STORE}"
        CM_KEYSTORE_PASSWORD: "${CM_KEYSTORE_PASSWORD}"
        CM_KEY_ALIAS: "${CM_KEY_ALIAS}"
        CM_KEY_PASSWORD: "${CM_KEY_PASSWORD}"
        NOTIFICATION_EMAIL: "${EMAIL_ID}"
        PROJECT_NAME: "${APP_NAME}"
        BUILD_URL: $CM_BUILD_URL
    scripts:
      - name: Install FVM
        script: |
          dart pub global activate fvm
          export PATH="$PATH":"$HOME/.pub-cache/bin"
      - bash lib/scripts/android/main.sh
    artifacts:
      - output/android/*.apk
      - output/android/*.aab

  ios-only:
    name: iOS-Only
    environment:
      flutter: 3.22.1
      vars:
        VERSION_NAME: "${VERSION_NAME}"
        VERSION_CODE: "${VERSION_CODE}"
        APP_NAME: "${APP_NAME}"
        ORG_NAME: "${ORG_NAME}"
        WEB_URL: "${WEB_URL}"
        PKG_NAME: "${PKG_NAME}"
        BUNDLE_ID: "${BUNDLE_ID}"
        EMAIL_ID: "${EMAIL_ID}"
        PUSH_NOTIFY: "${PUSH_NOTIFY}"
        IS_CHATBOT: "${IS_CHATBOT}"
        IS_DEEPLINK: "${IS_DEEPLINK}"
        IS_SPLASH: "${IS_SPLASH}"
        IS_PULLDOWN: "${IS_PULLDOWN}"
        IS_BOTTOMMENU: "${IS_BOTTOMMENU}"
        IS_LOAD_IND: "${IS_LOAD_IND}"
        IS_CAMERA: "${IS_CAMERA}"
        IS_LOCATION: "${IS_LOCATION}"
        IS_MIC: "${IS_MIC}"
        IS_NOTIFICATION: "${IS_NOTIFICATION}"
        IS_CONTACT: "${IS_CONTACT}"
        IS_BIOMETRIC: "${IS_BIOMETRIC}"
        IS_CALENDAR: "${IS_CALENDAR}"
        IS_STORAGE: "${IS_STORAGE}"
        LOGO_URL: "${LOGO_URL}"
        SPLASH: "${SPLASH}"
        SPLASH_BG: "${SPLASH_BG}"
        SPLASH_BG_COLOR: "${SPLASH_BG_COLOR}"
        SPLASH_TAGLINE: "${SPLASH_TAGLINE}"
        SPLASH_TAGLINE_COLOR: "${SPLASH_TAGLINE_COLOR}"
        SPLASH_ANIMATION: "${SPLASH_ANIMATION}"
        SPLASH_DURATION: "${SPLASH_DURATION}"
        BOTTOMMENU_ITEMS: "${BOTTOMMENU_ITEMS}"
        BOTTOMMENU_BG_COLOR: "${BOTTOMMENU_BG_COLOR}"
        BOTTOMMENU_ICON_COLOR: "${BOTTOMMENU_ICON_COLOR}"
        BOTTOMMENU_TEXT_COLOR: "${BOTTOMMENU_TEXT_COLOR}"
        BOTTOMMENU_FONT: "${BOTTOMMENU_FONT}"
        BOTTOMMENU_FONT_SIZE: "${BOTTOMMENU_FONT_SIZE}"
        BOTTOMMENU_FONT_BOLD: "${BOTTOMMENU_FONT_BOLD}"
        BOTTOMMENU_FONT_ITALIC: "${BOTTOMMENU_FONT_ITALIC}"
        BOTTOMMENU_ACTIVE_TAB_COLOR: "${BOTTOMMENU_ACTIVE_TAB_COLOR}"
        BOTTOMMENU_ICON_POSITION: "${BOTTOMMENU_ICON_POSITION}"
        BOTTOMMENU_VISIBLE_ON: "${BOTTOMMENU_VISIBLE_ON}"
        firebase_config_android: "${firebase_config_android}"
        firebase_config_ios: "${firebase_config_ios}"
        APPLE_TEAM_ID: "${APPLE_TEAM_ID}"
        APNS_KEY_ID: "${APNS_KEY_ID}"
        APNS_AUTH_KEY_URL: "${APNS_AUTH_KEY_URL}"
        CERT_PASSWORD: "${CERT_PASSWORD}"
        PROFILE_URL: "${PROFILE_URL}"
        CERT_CER_URL: "${CERT_CER_URL}"
        CERT_KEY_URL: "${CERT_KEY_URL}"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "${APP_STORE_CONNECT_KEY_IDENTIFIER}"
        KEY_STORE: "${KEY_STORE}"
        CM_KEYSTORE_PASSWORD: "${CM_KEYSTORE_PASSWORD}"
        CM_KEY_ALIAS: "${CM_KEY_ALIAS}"
        CM_KEY_PASSWORD: "${CM_KEY_PASSWORD}"
    scripts:
      - bash lib/scripts/ios/main.sh
    artifacts:
      - output/ios/*.ipa

  combined:
    name: Combined Android & iOS
    environment:
      flutter: 3.22.1
      vars:
        VERSION_NAME: "${VERSION_NAME}"
        VERSION_CODE: "${VERSION_CODE}"
        APP_NAME: "${APP_NAME}"
        ORG_NAME: "${ORG_NAME}"
        WEB_URL: "${WEB_URL}"
        PKG_NAME: "${PKG_NAME}"
        BUNDLE_ID: "${BUNDLE_ID}"
        EMAIL_ID: "${EMAIL_ID}"
        PUSH_NOTIFY: "${PUSH_NOTIFY}"
        IS_CHATBOT: "${IS_CHATBOT}"
        IS_DEEPLINK: "${IS_DEEPLINK}"
        IS_SPLASH: "${IS_SPLASH}"
        IS_PULLDOWN: "${IS_PULLDOWN}"
        IS_BOTTOMMENU: "${IS_BOTTOMMENU}"
        IS_LOAD_IND: "${IS_LOAD_IND}"
        IS_CAMERA: "${IS_CAMERA}"
        IS_LOCATION: "${IS_LOCATION}"
        IS_MIC: "${IS_MIC}"
        IS_NOTIFICATION: "${IS_NOTIFICATION}"
        IS_CONTACT: "${IS_CONTACT}"
        IS_BIOMETRIC: "${IS_BIOMETRIC}"
        IS_CALENDAR: "${IS_CALENDAR}"
        IS_STORAGE: "${IS_STORAGE}"
        LOGO_URL: "${LOGO_URL}"
        SPLASH: "${SPLASH}"
        SPLASH_BG: "${SPLASH_BG}"
        SPLASH_BG_COLOR: "${SPLASH_BG_COLOR}"
        SPLASH_TAGLINE: "${SPLASH_TAGLINE}"
        SPLASH_TAGLINE_COLOR: "${SPLASH_TAGLINE_COLOR}"
        SPLASH_ANIMATION: "${SPLASH_ANIMATION}"
        SPLASH_DURATION: "${SPLASH_DURATION}"
        BOTTOMMENU_ITEMS: "${BOTTOMMENU_ITEMS}"
        BOTTOMMENU_BG_COLOR: "${BOTTOMMENU_BG_COLOR}"
        BOTTOMMENU_ICON_COLOR: "${BOTTOMMENU_ICON_COLOR}"
        BOTTOMMENU_TEXT_COLOR: "${BOTTOMMENU_TEXT_COLOR}"
        BOTTOMMENU_FONT: "${BOTTOMMENU_FONT}"
        BOTTOMMENU_FONT_SIZE: "${BOTTOMMENU_FONT_SIZE}"
        BOTTOMMENU_FONT_BOLD: "${BOTTOMMENU_FONT_BOLD}"
        BOTTOMMENU_FONT_ITALIC: "${BOTTOMMENU_FONT_ITALIC}"
        BOTTOMMENU_ACTIVE_TAB_COLOR: "${BOTTOMMENU_ACTIVE_TAB_COLOR}"
        BOTTOMMENU_ICON_POSITION: "${BOTTOMMENU_ICON_POSITION}"
        BOTTOMMENU_VISIBLE_ON: "${BOTTOMMENU_VISIBLE_ON}"
        firebase_config_android: "${firebase_config_android}"
        firebase_config_ios: "${firebase_config_ios}"
        APPLE_TEAM_ID: "${APPLE_TEAM_ID}"
        APNS_KEY_ID: "${APNS_KEY_ID}"
        APNS_AUTH_KEY_URL: "${APNS_AUTH_KEY_URL}"
        CERT_PASSWORD: "${CERT_PASSWORD}"
        PROFILE_URL: "${PROFILE_URL}"
        CERT_CER_URL: "${CERT_CER_URL}"
        CERT_KEY_URL: "${CERT_KEY_URL}"
        APP_STORE_CONNECT_KEY_IDENTIFIER: "${APP_STORE_CONNECT_KEY_IDENTIFIER}"
        KEY_STORE: "${KEY_STORE}"
        CM_KEYSTORE_PASSWORD: "${CM_KEYSTORE_PASSWORD}"
        CM_KEY_ALIAS: "${CM_KEY_ALIAS}"
        CM_KEY_PASSWORD: "${CM_KEY_PASSWORD}"
    scripts:
      - bash lib/scripts/combined/main.sh
    artifacts:
      - output/android/*.apk
      - output/android/*.aab
      - output/ios/*.ipa
#  local:
#    name: Local Test (QuikApp Vars)
#    environment:
#      android_sdk: $ANDROID_SDK_VERSION
#      ndk: $ANDROID_NDK_VERSION
#      java: $JAVA_VERSION
#      vars:
#        APP_NAME: "Garbcode App"
#        ORG_NAME: "Garbcode Apparels Private Limited"
#        WEB_URL: "https://garbcode.com/"
#        VERSION_NAME: "1.0.22"
#        VERSION_CODE: "26"
#        PKG_NAME: "com.garbcode.garbcodeapp"
#        EMAIL_ID: "prasannasrinivasan32@gmail.com"
#        IS_CAMERA: "false"
#        IS_LOCATION: "false"
#        IS_MIC: "true"
#        IS_NOTIFICATION: "true"
#        IS_CONTACT: "false"
#        IS_BIOMETRIC: "false"
#        IS_CALENDAR: "false"
#        SPLASH_SCREEN: "true"
#        PULL_TO_REFRESH: "true"
#        LOADING_INDICATORS: "true"
#        BOTTOM_NAVIGATION_BAR: "false"
#        DEEP_LINKING: "true"
#        PUSH_NOTIFY: "true"
#        IS_CHATBOT: "true"
#        ANDROID_SDK_VERSION: "34"
#        ANDROID_NDK_VERSION: "27.0.12077973"
#        GRADLE_VERSION: "8.0.0"
#        JAVA_VERSION: "17"
#    scripts:
#      - source ./env.sh
#      - bash lib/scripts/android/main.sh
#    artifacts:
#      - output/android/*.apk
# All variables should be loaded dynamically in scripts (see quikapp-codemagic)
# Use env.sh to manage all environment variables for all workflows
